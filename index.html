<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CRETA - 한일 창작자 플랫폼</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>
<body class="dark-mode">
    <!-- 로딩 화면 -->
    <div id="loadingScreen" class="loading-screen">
        <div class="loading-content">
            <div class="logo-3d">
                <span class="logo-icon">🎨</span>
                <span class="logo-text">CRETA</span>
            </div>
            <div class="loading-progress">
                <div class="progress-bar">
                    <div class="progress-fill"></div>
                </div>
                <p class="loading-text">창작의 세계로 입장 중...</p>
            </div>
        </div>
    </div>

    <!-- 메인 앱 -->
    <div id="mainApp" class="main-app" style="display: none;">
        <!-- 헤더 -->
        <header class="app-header">
            <div class="header-content">
                <div class="header-left">
                    <div class="logo" onclick="navigateTo('home')">
                        <span class="logo-icon">🎨</span>
                        <span class="logo-text">CRETA</span>
                    </div>
                    
                    <!-- 검색바 -->
                    <div class="search-container">
                        <div class="search-input-wrapper">
                            <span class="search-icon">🔍</span>
                            <input type="text" id="globalSearchInput" placeholder="작품, 작가, 태그로 검색..." 
                                   oninput="handleSearchInput(event)" onfocus="showSearchSuggestions()" onblur="hideSearchSuggestions()">
                            <button class="search-clear" id="searchClearBtn" onclick="clearSearch()" style="display: none;">×</button>
                        </div>
                        
                        <!-- 검색 제안 패널 -->
                        <div id="searchSuggestions" class="search-suggestions" style="display: none;">
                            <div class="suggestions-content">
                                <div class="suggestion-section">
                                    <h4>🔥 실시간 인기</h4>
                                    <div class="trending-list" id="trendingList">
                                        <div class="suggestion-item" onclick="selectSuggestion('하이큐')">하이큐</div>
                                        <div class="suggestion-item" onclick="selectSuggestion('원피스')">원피스</div>
                                        <div class="suggestion-item" onclick="selectSuggestion('귀멸의칼날')">귀멸의칼날</div>
                                    </div>
                                </div>
                                <div class="suggestion-section">
                                    <h4>💡 추천 검색어</h4>
                                    <div class="suggested-list" id="suggestedList">
                                        <div class="suggestion-item" onclick="selectSuggestion('일러스트')">일러스트</div>
                                        <div class="suggestion-item" onclick="selectSuggestion('팬아트')">팬아트</div>
                                        <div class="suggestion-item" onclick="selectSuggestion('애니메이션')">애니메이션</div>
                                    </div>
                                </div>
                                <div id="relatedSearches" class="suggestion-section" style="display: none;">
                                    <h4>🎯 연관 검색어</h4>
                                    <div class="related-list" id="relatedList"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="header-right">
                    <button class="header-btn theme-toggle" onclick="toggleTheme()" title="테마 전환">
                        <span class="theme-icon">🌙</span>
                    </button>
                    
                    <button class="header-btn notification-btn" onclick="toggleNotifications()">
                        <span class="icon">🔔</span>
                        <span class="badge">3</span>
                    </button>
                    
                    <div class="user-profile" onclick="navigateTo('profile')">
                        <span id="userInitial">U</span>
                    </div>
                </div>
            </div>
        </header>

        <div class="app-body">
            <!-- 사이드바 -->
            <nav class="sidebar">
                <div class="nav-items">
                    <button class="nav-item active" onclick="navigateTo('home')" data-page="home">
                        <span class="nav-icon">🏠</span>
                        <span class="nav-text">홈</span>
                    </button>
                    <button class="nav-item" onclick="navigateTo('explore')" data-page="explore">
                        <span class="nav-icon">🚀</span>
                        <span class="nav-text">탐색</span>
                    </button>
                    <button class="nav-item" onclick="navigateTo('community')" data-page="community">
                        <span class="nav-icon">👥</span>
                        <span class="nav-text">커뮤니티</span>
                    </button>
                    <button class="nav-item" onclick="navigateTo('messages')" data-page="messages">
                        <span class="nav-icon">💬</span>
                        <span class="nav-text">메시지</span>
                        <span class="nav-badge">2</span>
                    </button>
                    <button class="nav-item" onclick="navigateTo('profile')" data-page="profile">
                        <span class="nav-icon">👤</span>
                        <span class="nav-text">프로필</span>
                    </button>
                </div>
                
                <div class="nav-divider"></div>
                
                <button class="nav-item upload" onclick="navigateTo('upload')">
                    <span class="nav-icon">✨</span>
                    <span class="nav-text">작품 업로드</span>
                </button>
            </nav>

            <!-- 메인 콘텐츠 -->
            <main class="main-content">
                <!-- 홈 페이지 -->
                <div id="homePage" class="page active">
                    <div class="home-hero">
                        <h1>안녕하세요, <span id="welcomeName">창작자</span>님! 🎨</h1>
                        <p>CRETA에서 여러분의 창작 여정을 시작해보세요</p>
                        
                        <div class="quick-actions">
                            <button class="quick-btn primary" onclick="navigateTo('upload')">
                                <span>새 작품 업로드</span>
                            </button>
                            <button class="quick-btn secondary" onclick="navigateTo('explore')">
                                <span>작품 탐색하기</span>
                            </button>
                        </div>
                    </div>

                    <!-- 작품 섹션 -->
                    <section class="content-section">
                        <div class="section-header">
                            <h2>🔥 최신 업로드</h2>
                            <button class="see-more-btn" onclick="navigateTo('explore')">더보기</button>
                        </div>
                        <div class="works-grid" id="latestWorksGrid">
                            <!-- 작품들이 동적으로 로드됩니다 -->
                        </div>
                    </section>

                    <section class="content-section">
                        <div class="section-header">
                            <h2>📈 인기 급상승</h2>
                            <button class="see-more-btn" onclick="navigateTo('explore')">더보기</button>
                        </div>
                        <div class="works-grid" id="trendingWorksGrid">
                            <!-- 작품들이 동적으로 로드됩니다 -->
                        </div>
                    </section>
                </div>

                <!-- 탐색 페이지 -->
                <div id="explorePage" class="page">
                    <div class="page-header">
                        <h1>🚀 작품 탐색</h1>
                        <p>다양한 창작자들의 멋진 작품을 발견해보세요</p>
                    </div>

                    <div class="explore-filters">
                        <div class="filter-tabs">
                            <button class="filter-tab active" onclick="filterWorks('all')" data-filter="all">전체</button>
                            <button class="filter-tab" onclick="filterWorks('illustration')" data-filter="illustration">일러스트</button>
                            <button class="filter-tab" onclick="filterWorks('animation')" data-filter="animation">애니메이션</button>
                            <button class="filter-tab" onclick="filterWorks('novel')" data-filter="novel">소설</button>
                            <button class="filter-tab" onclick="filterWorks('manga')" data-filter="manga">만화</button>
                        </div>
                        
                        <div class="sort-options">
                            <select class="sort-select" onchange="sortWorks(this.value)">
                                <option value="popular">인기순</option>
                                <option value="latest">최신순</option>
                                <option value="views">조회수순</option>
                                <option value="trending">트렌딩</option>
                            </select>
                        </div>
                    </div>

                    <div class="explore-results">
                        <div class="works-grid" id="exploreWorksGrid">
                            <!-- 탐색 결과가 여기에 표시됩니다 -->
                        </div>
                    </div>
                </div>

                <!-- 커뮤니티 페이지 (네이버 밴드 스타일) -->
                <div id="communityPage" class="page">
                    <div class="page-header">
                        <h1>👥 커뮤니티</h1>
                        <button class="create-btn" onclick="openCreateCommunityModal()">
                            <span class="icon">➕</span>커뮤니티 만들기
                        </button>
                    </div>

                    <div class="community-filters">
                        <button class="community-filter active" onclick="filterCommunities('all')">전체</button>
                        <button class="community-filter" onclick="filterCommunities('illustration')">일러스트</button>
                        <button class="community-filter" onclick="filterCommunities('animation')">애니메이션</button>
                        <button class="community-filter" onclick="filterCommunities('novel')">소설</button>
                    </div>

                    <div class="communities-grid" id="communitiesGrid">
                        <!-- 커뮤니티 목록이 여기에 표시됩니다 -->
                    </div>
                </div>

                <!-- 메시지 페이지 (카카오톡 스타일) -->
                <div id="messagesPage" class="page">
                    <div class="messages-layout">
                        <div class="chat-sidebar">
                            <div class="chat-header">
                                <h2>💬 채팅</h2>
                                <div class="chat-actions">
                                    <button class="chat-action-btn" onclick="newChat()" title="새 채팅">✏️</button>
                                    <button class="chat-action-btn" onclick="newGroupChat()" title="그룹채팅">👥</button>
                                </div>
                            </div>
                            
                            <div class="chat-search">
                                <input type="text" placeholder="채팅방 검색" onkeyup="searchChats(this.value)">
                            </div>
                            
                            <div class="chat-list" id="chatList">
                                <!-- 채팅방 목록이 여기에 표시됩니다 -->
                            </div>
                        </div>
                        
                        <div class="chat-main" id="chatMain">
                            <div class="chat-welcome">
                                <div class="welcome-icon">💬</div>
                                <h3>채팅을 시작해보세요!</h3>
                                <p>창작자들과 소통하고 아이디어를 나눠보세요</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 프로필 페이지 (대시보드 스타일) -->
                <div id="profilePage" class="page">
                    <div class="profile-header">
                        <div class="profile-cover"></div>
                        <div class="profile-info">
                            <div class="profile-avatar">U</div>
                            <div class="profile-details">
                                <h1 id="profileName">사용자</h1>
                                <p class="profile-handle">@username</p>
                                <p class="profile-bio">안녕하세요! CRETA에서 창작 활동을 하고 있습니다.</p>
                                
                                <div class="profile-stats">
                                    <div class="stat">
                                        <span class="stat-number" id="worksCount">12</span>
                                        <span class="stat-label">작품</span>
                                    </div>
                                    <div class="stat">
                                        <span class="stat-number" id="followersCount">1.2K</span>
                                        <span class="stat-label">팔로워</span>
                                    </div>
                                    <div class="stat">
                                        <span class="stat-number" id="followingCount">234</span>
                                        <span class="stat-label">팔로잉</span>
                                    </div>
                                    <div class="stat">
                                        <span class="stat-number" id="viewsCount">15.7K</span>
                                        <span class="stat-label">총 조회수</span>
                                    </div>
                                </div>
                                
                                <div class="profile-actions">
                                    <button class="profile-btn primary" onclick="editProfile()">프로필 편집</button>
                                    <button class="profile-btn secondary" onclick="shareProfile()">공유</button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="profile-tabs">
                        <button class="profile-tab active" onclick="switchProfileTab('dashboard')" data-tab="dashboard">📊 대시보드</button>
                        <button class="profile-tab" onclick="switchProfileTab('works')" data-tab="works">🎨 작품</button>
                        <button class="profile-tab" onclick="switchProfileTab('collections')" data-tab="collections">📚 컬렉션</button>
                        <button class="profile-tab" onclick="switchProfileTab('analytics')" data-tab="analytics">📈 분석</button>
                    </div>

                    <div class="profile-content">
                        <div id="profileDashboard" class="profile-tab-content active">
                            <div class="dashboard-grid">
                                <div class="dashboard-card">
                                    <h3>📈 최근 활동</h3>
                                    <div class="activity-list" id="recentActivity">
                                        <!-- 활동 내역이 여기에 표시됩니다 -->
                                    </div>
                                </div>
                                <div class="dashboard-card">
                                    <h3>⭐ 인기 작품</h3>
                                    <div class="popular-works" id="popularWorks">
                                        <!-- 인기 작품이 여기에 표시됩니다 -->
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div id="profileWorks" class="profile-tab-content">
                            <div class="works-grid" id="userWorksGrid">
                                <!-- 사용자 작품들이 여기에 표시됩니다 -->
                            </div>
                        </div>
                        
                        <div id="profileCollections" class="profile-tab-content">
                            <div class="collections-grid">
                                <p>아직 컬렉션이 없습니다. 첫 번째 컬렉션을 만들어보세요!</p>
                            </div>
                        </div>
                        
                        <div id="profileAnalytics" class="profile-tab-content">
                            <div class="analytics-dashboard">
                                <div class="analytics-cards">
                                    <div class="analytics-card">
                                        <h4>이번 달 조회수</h4>
                                        <div class="analytics-number">2.4K</div>
                                        <div class="analytics-change positive">+15.3%</div>
                                    </div>
                                    <div class="analytics-card">
                                        <h4>새 팔로워</h4>
                                        <div class="analytics-number">89</div>
                                        <div class="analytics-change positive">+8.2%</div>
                                    </div>
                                    <div class="analytics-card">
                                        <h4>좋아요</h4>
                                        <div class="analytics-number">456</div>
                                        <div class="analytics-change positive">+12.7%</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 작품 업로드 페이지 (한글과컴퓨터 스타일) -->
                <div id="uploadPage" class="page">
                    <div class="upload-container">
                        <!-- 상단 툴바 (한글과컴퓨터 스타일) -->
                        <div class="upload-toolbar">
                            <div class="toolbar-left">
                                <button class="toolbar-btn" onclick="navigateTo('home')">
                                    <span class="icon">←</span>뒤로
                                </button>
                                <div class="toolbar-divider"></div>
                                <h2>작품 업로드</h2>
                            </div>
                            
                            <div class="toolbar-center">
                                <div class="upload-steps">
                                    <div class="step active" data-step="1">
                                        <span class="step-number">1</span>
                                        <span class="step-label">파일 선택</span>
                                    </div>
                                    <div class="step" data-step="2">
                                        <span class="step-number">2</span>
                                        <span class="step-label">정보 입력</span>
                                    </div>
                                    <div class="step" data-step="3">
                                        <span class="step-number">3</span>
                                        <span class="step-label">게시</span>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="toolbar-right">
                                <button class="toolbar-btn" onclick="saveDraft()">임시저장</button>
                                <button class="toolbar-btn primary" onclick="publishWork()">게시하기</button>
                            </div>
                        </div>

                        <!-- 업로드 콘텐츠 -->
                        <div class="upload-content">
                            <div id="uploadStep1" class="upload-step active">
                                <div class="file-upload-area">
                                    <div class="file-drop-zone" onclick="document.getElementById('fileInput').click()">
                                        <div class="drop-content">
                                            <div class="drop-icon">📁</div>
                                            <h3>파일을 선택하거나 드래그해서 업로드하세요</h3>
                                            <p>이미지, 동영상, PDF, 문서 파일 지원 (최대 100MB)</p>
                                            <button class="select-file-btn">파일 선택하기</button>
                                        </div>
                                        <input type="file" id="fileInput" multiple accept="image/*,video/*,.pdf,.doc,.docx" style="display: none;" onchange="handleFileUpload(event)">
                                    </div>
                                    
                                    <div id="filePreview" class="file-preview" style="display: none;">
                                        <!-- 파일 미리보기가 여기에 표시됩니다 -->
                                    </div>
                                </div>
                            </div>

                            <div id="uploadStep2" class="upload-step">
                                <div class="upload-form">
                                    <div class="form-section">
                                        <h3>기본 정보</h3>
                                        <div class="form-group">
                                            <label>작품 제목 *</label>
                                            <input type="text" id="workTitle" placeholder="작품 제목을 입력하세요">
                                        </div>
                                        <div class="form-group">
                                            <label>작품 설명</label>
                                            <textarea id="workDescription" placeholder="작품에 대한 설명을 입력하세요" rows="4"></textarea>
                                        </div>
                                        <div class="form-row">
                                            <div class="form-group">
                                                <label>카테고리 *</label>
                                                <select id="workCategory">
                                                    <option value="">선택하세요</option>
                                                    <option value="illustration">일러스트</option>
                                                    <option value="animation">애니메이션</option>
                                                    <option value="novel">소설</option>
                                                    <option value="manga">만화</option>
                                                </select>
                                            </div>
                                            <div class="form-group">
                                                <label>공개 설정</label>
                                                <select id="workVisibility">
                                                    <option value="public">공개</option>
                                                    <option value="unlisted">링크만 공개</option>
                                                    <option value="private">비공개</option>
                                                </select>
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <label>태그</label>
                                            <div class="tag-input">
                                                <input type="text" id="tagInput" placeholder="태그를 입력하고 Enter를 누르세요" onkeypress="handleTagInput(event)">
                                                <div class="tag-list" id="tagList"></div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div id="uploadStep3" class="upload-step">
                                <div class="upload-summary">
                                    <h3>게시 준비 완료</h3>
                                    <div class="summary-preview" id="summaryPreview">
                                        <!-- 작품 미리보기가 여기에 표시됩니다 -->
                                    </div>
                                    <div class="publish-options">
                                        <label class="checkbox-label">
                                            <input type="checkbox" id="allowComments" checked>
                                            <span>댓글 허용</span>
                                        </label>
                                        <label class="checkbox-label">
                                            <input type="checkbox" id="allowDownload">
                                            <span>다운로드 허용</span>
                                        </label>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- 하단 네비게이션 -->
                        <div class="upload-navigation">
                            <button class="nav-btn secondary" id="prevBtn" onclick="previousStep()" style="display: none;">이전</button>
                            <div class="step-indicator">
                                <span id="currentStep">1</span> / 3
                            </div>
                            <button class="nav-btn primary" id="nextBtn" onclick="nextStep()">다음</button>
                        </div>
                    </div>
                </div>
            </main>
        </div>
    </div>

    <!-- 알림 패널 -->
    <div id="notificationPanel" class="notification-panel" style="display: none;">
        <div class="notification-header">
            <h3>🔔 알림</h3>
            <button class="mark-all-read" onclick="markAllRead()">모두 읽기</button>
        </div>
        <div class="notification-list" id="notificationList">
            <!-- 알림 목록이 여기에 표시됩니다 -->
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
